<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width">
    <title>Σύστημα Διαχείρισης Σ.Δ.Ε. Μεσολογγίου</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
      <!-- Bootstrap theme -->
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/theme.css" rel="stylesheet">
      
    <script type="text/javascript" src="js/knockout-3.2.0.js"></script>
    <script type="text/javascript" src="js/jquery-confirm.min.js"></script>
    
    <script src="js/main.js" type="text/javascript"></script>
    <script type="text/javascript">
      isLoggedIn();
      var userid = window.localStorage["userid"];
    </script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<!--[if lt IE 9]>
  <script type="text/javascript" src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
      <script src="js/models.js" type="text/javascript"></script>
<script type="text/javascript">
      isLoggedIn();
      var userid = window.localStorage["userid"];
	  
    </script>
  </head>
  <body>
  <div id="usermenu"  class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <script>getMenu();document.write('</div>');
    </script>
    <script>eduyear=getSelectedAcademicYear();</script>
  </script>
  <div id="busy3" class="square" style="background:#0059a6">
</div>
  <div id="cont" class="container">
    
  <div class="new_student" style="visibility: hidden;">
      <input type="text" class="fname" placeholder="fname" data-bind="value: person_fname, hasfocus: person_fname_focus()">
      <input type="text" class="lname" placeholder="lname" data-bind="value: person_lname, hasfocus: person_lname_focus()">
      <input type="text" class="age" placeholder="age" data-bind="value: person_age">

      <button  type="button" class="btn btn-sm btn-primary" data-bind="click: createPerson">Create</button>        
  </div>

  <div class="page-header">
        <h1>Εκπαιδευόμενοι</h1>
  </div>
  <div class="row">
    <div class="col-md-12">
      <table data-bind="visible: people().length > 0" class="students table  table-striped table-condensed" style="font-size:0.9em;">
      <thead>
          <tr>
	      <th>&nbsp;</th>
	      <th>Α.Μ.</th>
              <th>Επίθετο</th>
              <th>Όνομα</th>
              <th>Έτος Γεν.</th>
	      <th>Φύλο</th>
	      <th>Τάξη</th>
	      <th>Πατρώνυμο</th>
		  <th>Πατρώνυμο (Γεν)</th>
	      <th>Διεύθυνση</th>
	      <th>Τηλέφωνο</th>
	      <th>Οικ. Κατάσταση</th>
	      <th>Αρ. Τέκνων</th>
	      <th>Εργασία</th>
	      <th>Μήνες Ανεργίας</th>
	      <th>ROMA</th>
	      <th>Αξιολ</th>
		  <th>Τρέχων</th>
	      <th>Ενεργός</th>
		  
	      <th>Pdf</th>
              <th>Remove</th>
              <th>Update</th>
          </tr>
      </thead>
      <tbody data-bind="foreach: people">
          <tr>
              <td>
		<span class="glyphicon glyphicon-share-alt" data-bind="click: gotoDetails" style="cursor: pointer;"></span></td>
              <td>
		  <span data-bind="text: id, visible: false"></span>
                  <span data-bind="text: studentcode, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 40px; font-size: 1.0em;"  class="name" data-bind="value: studentcode, visible: studentUpdate, hasfocus: studentcodeHasFocus">
              </td>
	      <td>
                  <span data-bind="text: lname, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 100px; font-size: 1.0em;"  class="name" data-bind="value: lname, visible: studentUpdate, hasfocus: lnameHasFocus">
              </td>
              <td>
                  <span data-bind="text: fname, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 100px; font-size: 1.0em;"  class="name" data-bind="value: fname, visible: studentUpdate, hasfocus: fnameHasFocus">
              </td>
			  <td>
                  <span data-bind="text: age, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 40px; font-size: 1.0em;"  class="age" data-bind="value: age, visible: studentUpdate, hasfocus: ageHasFocus">
              </td>
              <td>
                  <span data-bind="text: sex() < 2 ? 'A' : 'Γ', click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 20px; font-size: 1.0em;"  class="name" data-bind="value: sex, visible: studentUpdate, hasfocus: sexHasFocus">
              </td>
	      <td>
		  <select data-bind="options: availableClasses, optionsValue: 'classid', optionsText: 'classname', value: classname, visible: studentUpdate, hasfocus: classnameHasFocus"></select>
		  <span data-bind="text: ClassByName, click: studentUpdating, visible: !studentUpdate()"></span>
		  <!--<span data-bind="text: classname() < 4 ? 'A' : 'B', click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 20px; font-size: 1.0em;"  class="name" data-bind="value: classname, visible: studentUpdate, hasfocus: classnameHasFocus"> -->
              </td>
	      <td>
                  <span data-bind="text: fathername, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 100px; font-size: 1.0em;"  class="name" data-bind="value: fathername, visible: studentUpdate, hasfocus: fathernameHasFocus">
              </td>
			  <td>
                  <span data-bind="text: fathernamegen, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 100px; font-size: 1.0em;"  class="name" data-bind="value: fathernamegen, visible: studentUpdate, hasfocus: fathernamegenHasFocus">
              </td>
	      <td>
                  <span data-bind="text: address, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 150px; font-size: 1.0em;"  class="name" data-bind="value: address, visible: studentUpdate, hasfocus: addressHasFocus">
              </td>
	      <td>
                  <span data-bind="text: phone, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 100px; font-size: 1.0em;"  class="name" data-bind="value: phone, visible: studentUpdate, hasfocus: phoneHasFocus">
              </td>
	      <td>
                  <span data-bind="text: marital, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 100px; font-size: 1.0em;"  class="name" data-bind="value: marital, visible: studentUpdate, hasfocus: maritalHasFocus">
              </td>
	      <td>
                  <span data-bind="text: children, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 100px; font-size: 1.0em;"  class="name" data-bind="value: children, visible: studentUpdate, hasfocus: childrenHasFocus">
              </td>
	      <td>
                  <span data-bind="text: jobstatus, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 100px; font-size: 1.0em;"  class="name" data-bind="value: jobstatus, visible: studentUpdate, hasfocus: jobstatusHasFocus">
              </td>
	      <td>
                  <span data-bind="text: monthsunemployment, click: studentUpdating, visible: !studentUpdate()"></span>
                  <input type="text" style="max-width: 100px; font-size: 1.0em;"  class="name" data-bind="value: monthsunemployment, visible: studentUpdate, hasfocus: monthsunemploymentHasFocus">
              </td>
	      <td>
                  <span data-bind="text: isromabool() != true ? 'OXI' : 'NAI', click: studentUpdating, visible: !studentUpdate()"></span>
                  <!-- <input type="text" style="max-width: 20px; font-size: 1.0em;"  class="name" data-bind="value: isroma, visible: studentUpdate, hasfocus: isromaHasFocus"> -->
		    <input type="checkbox" data-bind="checked: isromabool, visible: studentUpdate, hasfocus: isromaHasFocus" />
           </td>
		   <td>
                  <span data-bind="text: foraksiologisibool() != true ? 'OXI' : 'NAI', click: studentUpdating, visible: !studentUpdate()"></span>
		    <input type="checkbox" data-bind="checked: foraksiologisibool, visible: studentUpdate" />
              </td>
	      
	      <td>
                  <span data-bind="text: iscurrentbool() != true ? 'OXI' : 'NAI', click: studentUpdating, visible: !studentUpdate()"></span>
		    <input type="checkbox" data-bind="checked: iscurrentbool, visible: studentUpdate()" />
              </td>
	      <td>
                  <span data-bind="text: isactivebool() != true ? 'OXI' : 'NAI', click: studentUpdating, visible: !studentUpdate()"></span>
                  <!-- <input type="text" style="max-width: 20px; font-size: 1.0em;"  class="name" data-bind="value: isactive, visible: studentUpdate, hasfocus: isactiveHasFocus"> -->
		    <input type="checkbox" data-bind="checked: isactivebool, visible: studentUpdate()" />
              </td>
	      <td>
		<span class="glyphicon glyphicon-file" data-bind="click: $root.getPdf" data-toggle="modal" data-target=".bs-example-modal-sm"></span>
	      </td>
	      <td>
		<span class="glyphicon glyphicon-remove" data-bind="click: $root.removePerson" data-toggle="modal" data-target=".bs-example-modal-sm"></span>
	      </td>
              <td>
		<span class="glyphicon glyphicon-pencil" data-bind="click: studentUpdating, visible: !studentUpdate()"></span>
		<span class="glyphicon glyphicon-ok" data-bind="click: $root.updatePerson, visible: studentUpdate"></span>
	      </td>
		  <td>
		<span class="glyphicon glyphicon-plus" data-bind="click: $root.addPersonLessons, visible: !studentUpdate()"></span>
	      </td>
		  <td>
		<span class="glyphicon glyphicon-minus" data-bind="click: $root.removePersonLessons, visible: !studentUpdate()"></span>
	      </td>
          </tr>
      </tbody>
  </table>  
    </div>
  </div>
</div>


  <script src="js/bootstrap.min.js"></script>
  <script src="js/functions.js"></script>
  <script>
  $(document).ready(function () {
  var NewModel = new model();
	ko.applyBindings(NewModel);
	$(document).bind("load", NewModel.loadData());
	
});
  </script>
  </body>

      
</html>
